## Mini Vampire Survivors Clone

Прототип игры в стиле Vampire Survivors на Unity.

### Управление

- **Движение**: WASD или стрелки (через Unity Input System).

### Архитектура

- **`GameManager`**: компонент сцены (без синглтона), хранит `GameConfig`, ссылку на игрока, текущий уровень и опыт, обрабатывает получение XP, повышение уровня и события для UI.
- **Конфиги (`Configs`)**:
  - `GameConfig` — корневой объект.
  - `PlayerConfig` — скорость и здоровье игрока.
  - `EnemyConfig` — параметры обычного и быстрого врагов + общие параметры атаки/сепарации.
  - `SkillConfig` — параметры умений (снаряд, аура, орбита) + скорость/дистанция попадания снаряда.
  - `LevelUpConfig` — кривая опыта для повышения уровня (base + multiplier).
  - `SpawnerConfig` — параметры спавна врагов.
  - `PickupConfig` — параметры подбора XP.
  - Все значения загружаются из `Resources/game_config.json` через `ConfigLoader`.
- **Игрок (`Player`)**:
  - `PlayerController` — движение и тик умений.
  - `PlayerHealth` — здоровье игрока и смерть.
  - `ThirdPersonCamera` — управление камерой (поворот мышью).
- **Умения (`Skills`)**:
  - `SkillManager` — хранит активные умения и вызывает `Tick`.
  - `ProjectileSkill` — автоатака по ближайшему врагу, использует пул `ProjectilePool`.
  - `AuraSkill` — периодический урон по врагам в радиусе.
  - `OrbitSkill` — вращающиеся вокруг игрока сферы урона.
- **Враги (`Enemies`)**:
  - `Enemy` — движение к игроку, атака вблизи и смерть с дропом опыта.
  - `EnemySpawner` — спавн вокруг игрока по конфигу.
  - `EnemyRegistry` — реестр активных врагов (для оптимизированного поиска целей/сепарации).
- **Пикапы (`Pickups`)**:
  - `ExperiencePickup` — дроп опыта и логика притяжения/сбора игроком.
- **UI (`UI`)**:
  - `UIManager` — отображение уровня и опыта (через события, без обновления каждый кадр).
  - `PlayerHealthUI` — полоса здоровья.
  - `LevelUpScreenUI` — меню выбора улучшений при уровне.
  - `DeathScreenUI` — экран смерти и рестарт сцены.

### Запуск

1. Открыть папку проекта в Unity (версия 2022+ с поддержкой URP и нового Input System).
2. Открыть основную сцену в папке `Assets/_project/Scenes` (или другую, указанную в `EditorBuildSettings`).
3. Убедиться, что на сцене есть:
   - `GameManager` с прикреплённым `ConfigLoader`.
   - Префаб игрока с компонентами `CharacterController`, `PlayerController`, `PlayerHealth`, умениями/оружием и т.д.
   - `ProjectilePool`, `EnemySpawner`, UI-канвас.
4. Нажать Play.

### Использование AI

- **Инструменты**: Cursor (GPT‑5.1).
- **Генерировалось с помощью AI**:
  - Первичная версия архитектуры систем умений и врагов.
  - Код для загрузки конфигов из JSON и классов конфигурации.
  - Часть UI‑логики (`LevelUpScreenUI`, `PlayerHealthUI`, `DeathScreenUI`).
  - Доработки по `OrbitSkill`, настройке апгрейдов и улучшениям производительности (реестр врагов, дроп/сбор XP, уход от синглтонов).
- **Ручные правки**:
  - Адаптация к требованиям тестового задания.
  - Проверка и упрощение логики, правка инициализации, инспекторных полей и связей на сцене.
  - Настройка баланса значений в `game_config.json` и интеграция с конкретными префабами на сцене.

